import{j as e,a as b,_ as m}from"./index.e0302d02.js";import{r as s}from"./vendor.2d1551c5.js";import{F as M,c as O,a as T,b as z,E as D,u as V,s as w}from"./messagesError.defc70a8.js";import{c as Q,U as H}from"./useFetchHome.7f8346a0.js";const U=({getQuery:o})=>e(M,{initialValues:{search:""},validate:O,onSubmit:({search:r})=>o(r),children:({errors:r})=>b(T,{className:"flex flex-col sm:flex-row justify-center items-center w-11/12 md:w-1/2 gap-4 relative",children:[e(z,{type:"search",name:"search",id:"search",placeholder:"Recipe type...",className:"max-w-md w-full px-2 py-1 rounded border-none outline-none focus:shadow-sm focus:shadow-white"}),e(D,{name:"search",component:()=>e("span",{className:"text-red-700 absolute top-full",children:r.search})}),e("input",{type:"submit",value:"Search","aria-label":"search",className:"bg-cyan-200 w-24 py-1 px-4 border-2 border-cyan-300 rounded-md cursor-pointer hover:bg-cyan-300 outline-none disabled:opacity-40 disabled:pointer-events-none"})]})}),B=({url:o,query:r,page:f})=>{const[h,t]=s.exports.useState("idle"),[i,c]=s.exports.useState([]);return s.exports.useEffect(()=>{if(!r)return null;t("processing"),Q.get(o).then(({data:{results:u,numbers:d,offset:p}})=>{c({results:u,numbers:d,offset:p}),t("resolved")}).catch(()=>t("rejected"))},[r,f]),{status:h,info:i,setStatus:t,setInfo:c}},R=s.exports.lazy(()=>m(()=>import("./index.e0302d02.js").then(function(o){return o.b}),["assets/index.e0302d02.js","assets/index.257ab50f.css","assets/vendor.2d1551c5.js"])),X=s.exports.lazy(()=>m(()=>import("./ListOfRecipes.16b9acca.js"),["assets/ListOfRecipes.16b9acca.js","assets/RecipesCard.b6b675b6.js","assets/index.e0302d02.js","assets/index.257ab50f.css","assets/vendor.2d1551c5.js"])),A=s.exports.lazy(()=>m(()=>import("./Button.56f69f42.js"),["assets/Button.56f69f42.js","assets/vendor.2d1551c5.js","assets/index.e0302d02.js","assets/index.257ab50f.css"])),P=s.exports.lazy(()=>m(()=>import("./AlertMessage.64446326.js"),["assets/AlertMessage.64446326.js","assets/index.e0302d02.js","assets/index.257ab50f.css","assets/vendor.2d1551c5.js"])),j=2,K=({veganAmount:o,randomAmount:r,setRecipesVegan:f,setRecipesRandom:h})=>{const[t,i]=s.exports.useState(null),[c,u]=s.exports.useState(0),d=4,p=o===j,x=r===j,I=H({query:t,numbersQuery:d,page:c})+"b54911f91f424e27a7371e51c7bdb5d3",{status:a,setStatus:n,info:L,setInfo:g}=B({url:I,query:t,page:c}),{results:y}=L;V({status:a,setStatus:n});const N=()=>{i(null),u(0),g([]),n("idle")},C=()=>u(c+d),k=(S,_)=>{if(p&&x)return n("alert1");if(_&&p)return n("alert2");if(!_&&x)return n("alert3");let v;const F=y.filter(l=>(l.id===S&&(v=l),l.id!==S)),E=l=>[...l,v];return _?f(E):h(E),g({results:F})};return a==="processing"&&!y?e("section",{className:"grid place-items-center",children:e(R,{})}):b("header",{className:"bg-cyan-400 flex items-center justify-center w-full relative",children:[e(U,{getQuery:i}),a==="rejected"&&e(P,{msg:w[a]}),(a==="resolved"||t)&&b("section",{className:"w-full [height:52.8rem] pt-20 pb-32 lg:p-4 absolute top-full backdrop-blur-md overflow-y-auto",children:[e(A,{value:"Close",specificStyles:"px-6 py-2 absolute top-4 left-4",handleClick:N}),e(A,{value:"More",specificStyles:"px-6 py-2 absolute top-4 right-4",handleClick:C}),/alert/.test(a)&&e(P,{msg:w[a]}),a==="processing"&&t?e(R,{}):e(X,{type:`Search: ${t}`,isSearch:!0,data:y,handleClick:k})]})]})};export{K as default};
