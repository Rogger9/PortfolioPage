"use strict";import{API_URL,optionsFetch}from"./config.js";import{InsertTheme}from"./services/InsertTheme.service.js";import{LocalStorage}from"./services/LocalStorage.service.js";import{showMenuResponsive}from"./utils/showMenuResponsive.js";import{formData}from"./utils/formData.js";import{getThemeUser,setThemeUser}from"./utils/ThemeUser.js";import{showMsgForm}from"./utils/showMsgForm.js";window.onload=()=>{const{name:e,value:s}=document.body.attributes[0],t=getThemeUser(e);null===t&&setThemeUser(e,s)&&InsertTheme(e,s),null!==t&&InsertTheme(e,t)};const $switchTheme=document.querySelector("#switchTheme");$switchTheme.addEventListener("change",(()=>{const{name:e,value:s}=document.body.attributes[0],t="dark"===s?"light":"dark";InsertTheme(e,t),setThemeUser(e,t)}));const $iconMenu=document.querySelector(".header-icons-btn"),$nav=document.querySelector(".nav"),$ulMenu=document.querySelector(".nav-ul");$iconMenu.addEventListener("click",(()=>showMenuResponsive($nav))),$ulMenu.addEventListener("click",(()=>{"nav nav-responsive"===$nav.classList.value&&showMenuResponsive($nav)}));const $form=document.querySelector(".form"),$msgOk=document.querySelector(".msgOk"),$msgError=document.querySelector(".msgError");$form.addEventListener("submit",(async e=>{e.preventDefault();const{data:s}=formData($form);try{const e=await fetch(API_URL,optionsFetch(s)),t=await e.json(),{status:o}=t;showMsgForm(200===o?$msgOk:$msgError)}catch(e){showMsgForm($msgError)}e.target.reset()}));