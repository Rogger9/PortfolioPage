"use strict";(self.webpackChunkgoscrum=self.webpackChunkgoscrum||[]).push([[624],{5353:function(e,t,n){var r=n(6175),a=n(184);t.Z=function(e){var t=e.name,n=e.type,o=e.labelText,i=e.placeholder,c=e.handleChange,l=e.handleBlur,s=e.values,u=e.errors,d=e.touched;return(0,a.jsxs)("label",{htmlFor:t,children:[o,(0,a.jsx)("input",{type:n,name:t,id:t,onChange:c,onBlur:l,value:s[t],className:u[t]&&d[t]?"error":"",placeholder:i}),u[t]&&d[t]&&(0,a.jsx)(r.V,{children:u[t]})]})}},5624:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var r=n(1413),a=n(3504),o=n(5705),i=n(3082),c=n(7551),l=n(7224),s=n(4942),u=n(3366),d=n(7462),h=n(2791),m=n(8182),p=n(2039),g=n(2065),v=n(4036),f=n(5805),b=n(1388),x=n(1393),w=n(2354);function Z(e){return(0,w.Z)("MuiSwitch",e)}var y,S=(0,n(2152).Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),k=n(184),j=["className","color","edge","size","sx"],C=(0,x.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.edge&&t["edge".concat((0,v.Z)(n.edge))],t["size".concat((0,v.Z)(n.size))]]}})((function(e){var t,n=e.ownerState;return(0,d.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===n.edge&&{marginLeft:-8},"end"===n.edge&&{marginRight:-8},"small"===n.size&&(t={width:40,height:24,padding:7},(0,s.Z)(t,"& .".concat(S.thumb),{width:16,height:16}),(0,s.Z)(t,"& .".concat(S.switchBase),(0,s.Z)({padding:4},"&.".concat(S.checked),{transform:"translateX(16px)"})),t))})),I=(0,x.ZP)(f.Z,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var n=e.ownerState;return[t.switchBase,(0,s.Z)({},"& .".concat(S.input),t.input),"default"!==n.color&&t["color".concat((0,v.Z)(n.color))]]}})((function(e){var t,n=e.theme;return t={position:"absolute",top:0,left:0,zIndex:1,color:"light"===n.palette.mode?n.palette.common.white:n.palette.grey[300],transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest})},(0,s.Z)(t,"&.".concat(S.checked),{transform:"translateX(20px)"}),(0,s.Z)(t,"&.".concat(S.disabled),{color:"light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600]}),(0,s.Z)(t,"&.".concat(S.checked," + .").concat(S.track),{opacity:.5}),(0,s.Z)(t,"&.".concat(S.disabled," + .").concat(S.track),{opacity:"light"===n.palette.mode?.12:.2}),(0,s.Z)(t,"& .".concat(S.input),{left:"-100%",width:"300%"}),t}),(function(e){var t,n=e.theme,r=e.ownerState;return(0,d.Z)({"&:hover":{backgroundColor:(0,g.Fq)(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(t={},(0,s.Z)(t,"&.".concat(S.checked),(0,s.Z)({color:n.palette[r.color].main,"&:hover":{backgroundColor:(0,g.Fq)(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(S.disabled),{color:"light"===n.palette.mode?(0,g.$n)(n.palette[r.color].main,.62):(0,g._j)(n.palette[r.color].main,.55)})),(0,s.Z)(t,"&.".concat(S.checked," + .").concat(S.track),{backgroundColor:n.palette[r.color].main}),t))})),R=(0,x.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:"light"===t.palette.mode?t.palette.common.black:t.palette.common.white,opacity:"light"===t.palette.mode?.38:.3}})),z=(0,x.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){return{boxShadow:e.theme.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),B=h.forwardRef((function(e,t){var n=(0,b.Z)({props:e,name:"MuiSwitch"}),r=n.className,a=n.color,o=void 0===a?"primary":a,i=n.edge,c=void 0!==i&&i,l=n.size,s=void 0===l?"medium":l,h=n.sx,g=(0,u.Z)(n,j),f=(0,d.Z)({},n,{color:o,edge:c,size:s}),x=function(e){var t=e.classes,n=e.edge,r=e.size,a=e.color,o=e.checked,i=e.disabled,c={root:["root",n&&"edge".concat((0,v.Z)(n)),"size".concat((0,v.Z)(r))],switchBase:["switchBase","color".concat((0,v.Z)(a)),o&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,p.Z)(c,Z,t);return(0,d.Z)({},t,l)}(f),w=(0,k.jsx)(z,{className:x.thumb,ownerState:f});return(0,k.jsxs)(C,{className:(0,m.Z)(x.root,r),sx:h,ownerState:f,children:[(0,k.jsx)(I,(0,d.Z)({type:"checkbox",icon:w,checkedIcon:w,ref:t,ownerState:f},g,{classes:(0,d.Z)({},x,{root:x.switchBase})})),(0,k.jsx)(R,{className:x.track,ownerState:f})]})})),T=n(1462),V=n(5353),D=n(6175),N=function(e){var t,n=e.name,r=e.labelText,a=e.options,o=e.enabled,i=e.handleChange,c=e.handleBlur,l=e.values,s=e.errors,u=e.touched,d=e.data;return o&&(0,k.jsxs)("label",{htmlFor:n,children:[r,(0,k.jsxs)("select",{name:n,id:n,onChange:i,onBlur:c,value:l[n],className:s[n]&&u[n]?"error":"",children:[(0,k.jsx)("option",{value:"",children:a.emptyValue}),null===d||void 0===d||null===(t=d[null===a||void 0===a?void 0:a.name])||void 0===t?void 0:t.map((function(e){return(0,k.jsx)("option",{value:e,children:e},e)}))]}),s[n]&&u[n]&&(0,k.jsx)(D.V,{children:s[n]})]})},M=n(6307),P={userName:"",password:"",email:"",teamID:"",role:"",continent:"",region:"",switch:!1},A=(0,M.i)(P).validationSchema,E={inputs:[{name:"userName",type:"text",labelText:"Nombre de usuario"},{name:"password",type:"password",labelText:"Contrase\xf1a"},{name:"email",type:"email",labelText:"Email"}],selects:[{name:"role",labelText:"Rol",options:{emptyValue:"Seleccionar rol...",name:"Rol"},enabled:!0},{name:"continent",labelText:"Continente",options:{emptyValue:"Seleccionar continente...",name:"continente"},enabled:!0},{name:"region",labelText:"Region",options:{emptyValue:"Selectionar regi\xf3n...",name:"region"},enabled:!1}]},F=n(6988),q=n(5987),U=n(885),O=n(6871),L=n(5429),X=new Uint8Array(16);function $(){if(!y&&!(y="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(X)}var _=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var G=function(e){return"string"===typeof e&&_.test(e)},H=[],J=0;J<256;++J)H.push((J+256).toString(16).substr(1));var K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(H[e[t+0]]+H[e[t+1]]+H[e[t+2]]+H[e[t+3]]+"-"+H[e[t+4]]+H[e[t+5]]+"-"+H[e[t+6]]+H[e[t+7]]+"-"+H[e[t+8]]+H[e[t+9]]+"-"+H[e[t+10]]+H[e[t+11]]+H[e[t+12]]+H[e[t+13]]+H[e[t+14]]+H[e[t+15]]).toLowerCase();if(!G(n))throw TypeError("Stringified UUID is invalid");return n};var Q=function(e,t,n){var r=(e=e||{}).random||(e.rng||$)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return K(r)},W=n(3923),Y=["switch","teamID"],ee=function(){var e,t,n=function(){var e=(0,h.useState)(null),t=(0,U.Z)(e,2),n=t[0],a=t[1],o=(0,O.s0)();return(0,h.useEffect)((function(){(0,L.n)().then((function(e){var t=e.result;return a(t)})).catch((function(){return(0,W.Z)("error")}))}),[]),{data:n,onSubmit:function(e){e.switch;var t=e.teamID,n=(0,q.Z)(e,Y),a=(0,r.Z)((0,r.Z)({},n),{},{teamID:t||Q()});(0,L.x)("register",{user:a}).then((function(e){var t=e.status_code,n=e.result;if(201!==t)return(0,W.Z)("error");o(i.rC+(null===n||void 0===n?void 0:n.user.teamID),{replace:!0})})).catch((function(){return(0,W.Z)("error")}))}}}(),s=n.data,u=n.onSubmit,d=(0,o.TA)({initialValues:P,validationSchema:A,onSubmit:u}),m=d.handleSubmit,p=d.handleChange,g=d.handleBlur,v=d.values,f=d.errors,b=d.touched,x=d.setFieldValue;return(0,k.jsx)(c.Z,{children:(0,k.jsxs)(F.I,{children:[(0,k.jsx)("h2",{children:"Registro"}),(0,k.jsxs)(D.G,{onSubmit:m,children:[null===E||void 0===E||null===(e=E.inputs)||void 0===e?void 0:e.map((function(e){return(0,k.jsx)(V.Z,(0,r.Z)((0,r.Z)({},e),{},{handleChange:p,handleBlur:g,values:v,errors:f,touched:b}),e.name)})),(0,k.jsx)(T.Z,{control:(0,k.jsx)(B,{name:"switch",onChange:function(){return x("switch",!v.switch)},value:v.switch,color:"warning"}),label:"Pertenec\xe9s a un equipo ya creado"}),v.switch&&(0,k.jsxs)("label",{htmlFor:"teamID",children:["Por favor, introduce el identificador de equipo",(0,k.jsx)("input",{type:"text",name:"teamID",id:"teamID",onChange:p,value:v.teamID})]}),null===E||void 0===E||null===(t=E.selects)||void 0===t?void 0:t.map((function(e){return(0,k.jsx)(N,(0,r.Z)((0,r.Z)({},e),{},{handleBlur:g,values:v,errors:f,touched:b,handleChange:"continent"===e.name?function(e){return function(e){x("continent",e),"America"!==e&&x("region","Otro");var t=E.selects.find((function(e){return"region"===e.name}));"America"===e&&(t.enabled=!0)}(e.currentTarget.value)}:p,data:s}),e.name)})),(0,k.jsx)(l.Z,{value:"Enviar",type:"submit"}),(0,k.jsx)(a.rU,{to:i.ym,children:"Ir a Iniciar sesi\xf3n"})]})]})})}},6988:function(e,t,n){n.d(t,{I:function(){return o}});var r,a=n(168),o=n(7939).ZP.div(r||(r=(0,a.Z)(["\n  max-width: 450px;\n  display: grid;\n  gap: 10px;\n  padding: 20px;\n  margin: auto;\n\n  > h2 { margin: 0 }\n\n  @media screen and (min-width: 450px) {\n    border: 1px solid var(--global-grey);\n    border-radius: var(--global-radius);\n  }\n"])))}}]);
//# sourceMappingURL=624.02449d9a.chunk.js.map